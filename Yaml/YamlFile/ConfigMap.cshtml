@using Yaml.Infrastructure.Dto
@model Yaml.Infrastructure.Dto.YamlClusterInfoDto
apiVersion: v1
kind: ConfigMap
metadata:
  name: @Model.ClusterName-configmap
  namespace: @Model.AppName-ns
data:
    @foreach(var item in @Model.ConfigMap ?? Enumerable.Empty<ConfigMapDto>())
    {
        string configRecord = item.ConfigKey + ": \"" + item.Value + "\"\n";
        @("  " + configRecord)
    }
    @foreach(var item in @Model.ConfigFile ?? Enumerable.Empty<ConfigFileDto>())
    {
        string configRecord = item.FilePath;
        @("  " + configRecord + ": | \n") 
        @("    " + item.FileContent + "\n") 
    }
